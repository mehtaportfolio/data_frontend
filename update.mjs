import fs from 'fs'; const b = fs.readFileSync('src/server/src/routes/insurancePolicies.ts.bak', 'utf8'); const df = String.fromCharCode(10,10) + 'async function deleteFileFromStorage(fileUrl: string): Promise(void) { try { if (!fileUrl) return; const urlParts = fileUrl.split(\\\"policy/\\\"); if (urlParts.length ( 2) return; let filePath = urlParts[1]; filePath = filePath.split(\\\"?\\\")[0]; if (!filePath) return; await supabase.storage.from(\\\"policy\\\").remove([filePath]); } catch (error) { console.error(\\\"Failed to delete file from storage:\\\", error); } }'; const u = b.replace('const router = Router();', 'const router = Router();' + df); fs.writeFileSync('src/server/src/routes/insurancePolicies.ts', u); console.log('OK'); 
